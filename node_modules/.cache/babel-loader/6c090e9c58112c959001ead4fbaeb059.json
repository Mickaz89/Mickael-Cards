{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mickaelzana/Desktop/backstage/cards/demo-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mickaelzana/Desktop/backstage/cards/demo-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export var fetchUserTransactions=function fetchUserTransactions(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response,transactions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://tofhpead19.execute-api.eu-west-1.amazonaws.com/dev/transactions');case 2:response=_context.sent;_context.next=5;return response.json();case 5:transactions=_context.sent;console.log('FETCH TRANSACTIONS ',transactions);dispatch({type:'FETCH_TRANSACTIONS',payload:transactions});case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var fetchUserCategories=function fetchUserCategories(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response,categories;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('https://tofhpead19.execute-api.eu-west-1.amazonaws.com/dev/categories');case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:categories=_context2.sent;dispatch({type:'FETCH_CATEGORIES',payload:categories});case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var createTransactionCategory=function createTransactionCategory(category){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log('CREATE TRANSACTION ACTION');dispatch({type:'CREATE_CATEGORY_LOADING_START'});_context3.next=4;return fetch(\"https://tofhpead19.execute-api.eu-west-1.amazonaws.com/dev/categories\",{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({\"category\":category})});case 4:response=_context3.sent;dispatch(fetchUserCategories());dispatch({type:'CREATE_CATEGORY_LOADING_END'});case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var editTransactionCategory=function editTransactionCategory(category){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var _getState,select,response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_getState=getState(),select=_getState.select;console.log('select ',select);_context4.next=4;return fetch(\"https://tofhpead19.execute-api.eu-west-1.amazonaws.com/dev/transactions/\".concat(select.transaction_details.uuid),{method:'PUT',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({\"category\":category})});case 4:response=_context4.sent;dispatch(fetchUserTransactions());dispatch(closeModal());dispatch(setSelectValue(\"\"));case 8:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4,_x5){return _ref4.apply(this,arguments);};}();};export var setFilter=function setFilter(filter){return{type:'SET_FILTER',payload:filter};};export var setSelectValue=function setSelectValue(value){console.log('select select');return{type:'SET_SELECT_VALUE',payload:value};};export var setTotal=function setTotal(total){return{type:'SET_TOTAL',payload:total};};export var selectTransaction=function selectTransaction(transaction){return{type:'SELECT_TRANSACTION',payload:transaction};};export var openModal=function openModal(){return{type:'OPEN_MODAL'};};export var closeModal=function closeModal(){return{type:'CLOSE_MODAL'};};","map":{"version":3,"sources":["/Users/mickaelzana/Desktop/backstage/cards/demo-front/src/actions/index.js"],"names":["fetchUserTransactions","dispatch","fetch","response","json","transactions","console","log","type","payload","fetchUserCategories","categories","createTransactionCategory","category","method","headers","body","JSON","stringify","editTransactionCategory","getState","select","transaction_details","uuid","closeModal","setSelectValue","setFilter","filter","value","setTotal","total","selectTransaction","transaction","openModal"],"mappings":"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","sourcesContent":["export const fetchUserTransactions = () => async (dispatch) => {\n    const response = await fetch('https://tofhpead19.execute-api.eu-west-1.amazonaws.com/dev/transactions')\n    const transactions = await response.json()\n    console.log('FETCH TRANSACTIONS ', transactions)\n    dispatch({type:'FETCH_TRANSACTIONS', payload: transactions})\n}\n\nexport const fetchUserCategories = () => async (dispatch) => {\n    const response = await fetch('https://tofhpead19.execute-api.eu-west-1.amazonaws.com/dev/categories')\n    const categories = await response.json()\n    dispatch({type:'FETCH_CATEGORIES', payload: categories})\n}\n\nexport const createTransactionCategory = (category) => async (dispatch) => {\n    console.log('CREATE TRANSACTION ACTION')\n    dispatch({type:'CREATE_CATEGORY_LOADING_START'})\n    const response = await fetch(`https://tofhpead19.execute-api.eu-west-1.amazonaws.com/dev/categories`, {\n                        method: 'POST',\n                        headers: {\n                            'Accept': 'application/json',\n                            'Content-Type': 'application/json'\n                        },\n                        body: JSON.stringify({ \"category\": category })\n                    })\n    dispatch(fetchUserCategories())\n    dispatch({type:'CREATE_CATEGORY_LOADING_END'})\n}\n\nexport const editTransactionCategory = (category) => async (dispatch, getState) => {\n    const {select} = getState()\n    console.log('select ', select)\n    const response = await fetch(`https://tofhpead19.execute-api.eu-west-1.amazonaws.com/dev/transactions/${select.transaction_details.uuid}`, {\n        method: 'PUT',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body:JSON.stringify({\"category\":category})\n      })\n\n      dispatch(fetchUserTransactions())\n      dispatch(closeModal())\n      dispatch(setSelectValue(\"\"))\n\n}\n\nexport const setFilter = (filter) => ({type:'SET_FILTER', payload: filter})\nexport const setSelectValue = (value) => {\n    console.log('select select')\n    return {type:'SET_SELECT_VALUE', payload: value}\n}\nexport const setTotal = (total) => ({type:'SET_TOTAL', payload: total})\nexport const selectTransaction = (transaction) => ({type:'SELECT_TRANSACTION', payload: transaction})\nexport const openModal = () =>  ({type: 'OPEN_MODAL'})\n\nexport const closeModal = () =>  ({type: 'CLOSE_MODAL'})"]},"metadata":{},"sourceType":"module"}