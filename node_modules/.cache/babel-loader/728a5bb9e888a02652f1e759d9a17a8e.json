{"ast":null,"code":"var _jsxFileName = \"/Users/mickaelzana/Desktop/backstage/cards/demo-front/src/components/SelectOrCreate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { fetchUserCategories } from '../actions';\nimport CreatableSelect from 'react-select/creatable';\nimport { Button, Select } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\n\nconst SelectOrCreate = ({\n  closeModal,\n  fetchUserCategories,\n  categories\n}) => {\n  _s();\n\n  useEffect(() => {\n    fetchUserCategories();\n  }, []);\n  let selectorOptions = categories.map(c => {\n    return {\n      label: c.name,\n      value: c.name\n    };\n  }); //   const onCreate = () => {\n  //     if (newCategory != null) {\n  //         fetch(`https://2eh1oighrk.execute-api.eu-west-1.amazonaws.com/dev/categories`, {\n  //             method: 'POST',\n  //             headers: {\n  //                 'Accept': 'application/json',\n  //                 'Content-Type': 'application/json'\n  //             },\n  //             body: JSON.stringify({ \"category\": newCategory })\n  //         })\n  //             .then(response => response.json())\n  //             .then(data => { setCategories(data) });\n  //     }\n  //     console.log('click')\n  //     setCreate(false);\n  // }\n  // const onSubmitTag = (value) => {\n  //   setValue(value)\n  //   console.log('VALUE VALUE ', value)\n  //   console.log('SELECTED ITEM ', selectedItem)\n  //   fetch(`https://2eh1oighrk.execute-api.eu-west-1.amazonaws.com/dev/transactions/${selectedItem.transaction_details.uuid}`, {\n  //     method: 'PUT',\n  //     headers: {\n  //       'Accept': 'application/json',\n  //       'Content-Type': 'application/json'\n  //     },\n  //     body:JSON.stringify({\"category\":value})\n  //   })\n  //   .then(response => response.json())\n  //   .then(data => { \n  //     reload() \n  //     closeModal()\n  //     setValue('')\n  //     // setVisible(false)\n  //     // reloadModal(value);\n  //   });\n  // }\n\n  return !categories.length ? /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"Loading\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 3\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(CreatableSelect, {\n      onChange: onSubmitTag,\n      options: selectorOptions,\n      className: \"select\",\n      onCreateOption: onCreate,\n      isLoading: loading,\n      isDisabled: disabled\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 3\n  }, this);\n};\n\n_s(SelectOrCreate, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = SelectOrCreate;\n\nconst mapStateToProps = state => {\n  return {\n    categories: state.categories\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchUserCategories: () => dispatch(fetchUserCategories())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectUI);\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectOrCreate\");","map":{"version":3,"sources":["/Users/mickaelzana/Desktop/backstage/cards/demo-front/src/components/SelectOrCreate.js"],"names":["React","useState","useEffect","fetchUserCategories","CreatableSelect","Button","Select","Option","SelectOrCreate","closeModal","categories","selectorOptions","map","c","label","name","value","length","onSubmitTag","onCreate","loading","disabled","mapStateToProps","state","mapDispatchToProps","dispatch","connect","SelectUI"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,mBAAT,QAAoC,YAApC;AACA,OAAOC,eAAP,MAA4B,wBAA5B;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,MAA/B;;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAaD,MAAnB;;AAEA,MAAME,cAAc,GAAG,CAAC;AAACC,EAAAA,UAAD;AAAaN,EAAAA,mBAAb;AAAkCO,EAAAA;AAAlC,CAAD,KAAoD;AAAA;;AAEzER,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,mBAAmB;AACpB,GAFQ,EAEN,EAFM,CAAT;AAKA,MAAIQ,eAAe,GAAGD,UAAU,CAACE,GAAX,CAAgBC,CAAC,IAAI;AACzC,WAAO;AACLC,MAAAA,KAAK,EAACD,CAAC,CAACE,IADH;AAELC,MAAAA,KAAK,EAACH,CAAC,CAACE;AAFH,KAAP;AAID,GALqB,CAAtB,CAPyE,CAe3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAGA,SAAO,CAACL,UAAU,CAACO,MAAZ,gBACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADK,gBAIL;AAAA,2BACE,QAAC,eAAD;AACQ,MAAA,QAAQ,EAAEC,WADlB;AAEQ,MAAA,OAAO,EAAEP,eAFjB;AAGQ,MAAA,SAAS,EAAC,QAHlB;AAIQ,MAAA,cAAc,EAAEQ,QAJxB;AAKQ,MAAA,SAAS,EAAEC,OALnB;AAMQ,MAAA,UAAU,EAAEC;AANpB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UAJF;AAeC,CAvED;;GAAMb,c;;KAAAA,c;;AAyEN,MAAMc,eAAe,GAAIC,KAAD,IAAW;AACjC,SAAO;AACLb,IAAAA,UAAU,EAAEa,KAAK,CAACb;AADb,GAAP;AAGD,CAJD;;AAMA,MAAMc,kBAAkB,GAAIC,QAAD,IAAc;AACvC,SAAO;AACLtB,IAAAA,mBAAmB,EAAE,MAAMsB,QAAQ,CAACtB,mBAAmB,EAApB;AAD9B,GAAP;AAGD,CAJD;;AAKA,eAAeuB,OAAO,CAACJ,eAAD,EAAkBE,kBAAlB,CAAP,CAA8CG,QAA9C,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchUserCategories } from '../actions';\nimport CreatableSelect from 'react-select/creatable';\nimport { Button, Select } from 'antd';\n\nconst { Option } = Select;\n\nconst SelectOrCreate = ({closeModal, fetchUserCategories, categories }) => {\n\n  useEffect(() => {\n    fetchUserCategories()\n  }, []) \n\n\n  let selectorOptions = categories.map( c => {\n    return {\n      label:c.name,\n      value:c.name\n    }\n  })\n\n\n//   const onCreate = () => {\n//     if (newCategory != null) {\n//         fetch(`https://2eh1oighrk.execute-api.eu-west-1.amazonaws.com/dev/categories`, {\n//             method: 'POST',\n//             headers: {\n//                 'Accept': 'application/json',\n//                 'Content-Type': 'application/json'\n//             },\n//             body: JSON.stringify({ \"category\": newCategory })\n//         })\n//             .then(response => response.json())\n//             .then(data => { setCategories(data) });\n//     }\n//     console.log('click')\n//     setCreate(false);\n// }\n\n// const onSubmitTag = (value) => {\n//   setValue(value)\n//   console.log('VALUE VALUE ', value)\n//   console.log('SELECTED ITEM ', selectedItem)\n//   fetch(`https://2eh1oighrk.execute-api.eu-west-1.amazonaws.com/dev/transactions/${selectedItem.transaction_details.uuid}`, {\n//     method: 'PUT',\n//     headers: {\n//       'Accept': 'application/json',\n//       'Content-Type': 'application/json'\n//     },\n//     body:JSON.stringify({\"category\":value})\n//   })\n//   .then(response => response.json())\n//   .then(data => { \n//     reload() \n//     closeModal()\n//     setValue('')\n//     // setVisible(false)\n//     // reloadModal(value);\n    \n//   });\n// }\n\n\nreturn !categories.length \n? <h2>Loading</h2>\n:\n\n  <div>\n    <CreatableSelect\n            onChange={onSubmitTag}\n            options={selectorOptions}\n            className=\"select\"\n            onCreateOption={onCreate}\n            isLoading={loading}\n            isDisabled={disabled}\n          />\n  </div>\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    categories: state.categories\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchUserCategories: () => dispatch(fetchUserCategories())\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps) (SelectUI);"]},"metadata":{},"sourceType":"module"}