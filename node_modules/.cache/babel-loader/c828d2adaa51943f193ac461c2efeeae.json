{"ast":null,"code":"import _toConsumableArray from\"/Users/mickaelzana/Desktop/backstage/cards/demo-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useState,useEffect}from'react';import{connect}from'react-redux';import{fetchUserCategories as _fetchUserCategories,createTransactionCategory as _createTransactionCategory,editTransactionCategory as _editTransactionCategory,setFilter as _setFilter}from'../actions';import Select from'react-select/creatable';import{jsx as _jsx}from\"react/jsx-runtime\";var SelectCategory=function SelectCategory(_ref){var loading=_ref.loading,fetchUserCategories=_ref.fetchUserCategories,createTransactionCategory=_ref.createTransactionCategory,editTransactionCategory=_ref.editTransactionCategory,categories=_ref.categories,setFilter=_ref.setFilter,select=_ref.select;// const [value, setValue] = useState(\"\")\nuseEffect(function(){fetchUserCategories();},[]);var selectorOptions=[];var options=categories.map(function(c){return{label:c.name,value:c.name};});selectorOptions=[{label:\"All\",value:'all'}].concat(_toConsumableArray(options));var onCreate=function onCreate(value){console.log('create ',value);if(value!=\"\"){console.log('create');createTransactionCategory(value);}};var onChange=function onChange(value){console.log('value value ',value);setFilter(value.value);};return!categories.length?/*#__PURE__*/_jsx(\"h2\",{children:\"Loading\"}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Select,{defaultValue:selectorOptions[0],onChange:onChange,options:selectorOptions,className:\"select\"})});};var mapStateToProps=function mapStateToProps(state){return{categories:state.categories.categories,loading:state.categories.loading,select:state.select};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchUserCategories:function fetchUserCategories(){return dispatch(_fetchUserCategories());},createTransactionCategory:function createTransactionCategory(category){return dispatch(_createTransactionCategory(category));},editTransactionCategory:function editTransactionCategory(category){return dispatch(_editTransactionCategory(category));},setFilter:function setFilter(filter){return dispatch(_setFilter(filter));}};};export default connect(mapStateToProps,mapDispatchToProps)(SelectCategory);","map":{"version":3,"sources":["/Users/mickaelzana/Desktop/backstage/cards/demo-front/src/components/SelectCategory.js"],"names":["React","useState","useEffect","connect","fetchUserCategories","createTransactionCategory","editTransactionCategory","setFilter","Select","SelectCategory","loading","categories","select","selectorOptions","options","map","c","label","name","value","onCreate","console","log","onChange","length","mapStateToProps","state","mapDispatchToProps","dispatch","category","filter"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchUserCategories, createTransactionCategory, editTransactionCategory, setFilter } from '../actions';\nimport Select from 'react-select/creatable';\n\n\nconst SelectCategory = ({loading, \n  fetchUserCategories, \n  createTransactionCategory, \n  editTransactionCategory,\n  categories,\n  setFilter, \n  select }) => {\n\n  // const [value, setValue] = useState(\"\")\n\n  useEffect(() => {\n    fetchUserCategories()\n  }, []) \n\n\n  let selectorOptions = [];\n  let options = categories.map( c => {\n    return {\n      label:c.name,\n      value:c.name\n    }\n  })\n    selectorOptions = [{label:\"All\",value:'all'},  ...options];\n\n\n  const onCreate = (value) => {\n    console.log('create ', value)\n    if (value != \"\") {\n      console.log('create')\n      createTransactionCategory(value)\n    }\n}\n\n\nconst onChange = (value) => {\n  console.log('value value ', value)\n  setFilter(value.value)\n}\n\n\nreturn !categories.length \n? <h2>Loading</h2>\n:\n\n  <div>\n    <Select\n            defaultValue={selectorOptions[0]}\n            onChange={onChange}\n            options={selectorOptions}\n            className=\"select\"\n          />\n  </div>\n\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    categories: state.categories.categories,\n    loading: state.categories.loading,\n    select: state.select\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchUserCategories: () => dispatch(fetchUserCategories()),\n    createTransactionCategory: (category) => dispatch(createTransactionCategory(category)),\n    editTransactionCategory: (category) => dispatch(editTransactionCategory(category)),\n    setFilter: (filter) => dispatch(setFilter(filter))\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps) (SelectCategory);"]},"metadata":{},"sourceType":"module"}