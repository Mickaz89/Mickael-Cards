{"ast":null,"code":"export const fetchUserTransactions = () => async dispatch => {\n  const response = await fetch('https://2eh1oighrk.execute-api.eu-west-1.amazonaws.com/dev/transactions');\n  const transactions = await response.json();\n  console.log('FETCH TRANSACTIONS ', transactions);\n  dispatch({\n    type: 'FETCH_TRANSACTIONS',\n    payload: transactions\n  });\n};\nexport const fetchUserCategories = () => async dispatch => {\n  const response = await fetch('https://2eh1oighrk.execute-api.eu-west-1.amazonaws.com/dev/categories');\n  const categories = await response.json();\n  dispatch({\n    type: 'FETCH_CATEGORIES',\n    payload: categories\n  });\n};\nexport const createTransactionCategory = category => async dispatch => {\n  console.log('CREATE TRANSACTION ACTION');\n  dispatch({\n    type: 'CREATE_CATEGORY_LOADING_START'\n  });\n  const response = await fetch(`https://2eh1oighrk.execute-api.eu-west-1.amazonaws.com/dev/categories`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      \"category\": category\n    })\n  });\n  dispatch(fetchUserCategories());\n  dispatch({\n    type: 'CREATE_CATEGORY_LOADING_END'\n  });\n};\nexport const editTransactionCategory = category => async (dispatch, getState) => {\n  const {\n    select\n  } = getState();\n  console.log();\n  const response = await fetch(`https://2eh1oighrk.execute-api.eu-west-1.amazonaws.com/dev/transactions/${getState()}`, {\n    method: 'PUT',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      \"category\": category\n    })\n  });\n  dispatch(fetchUserTransactions());\n};\nexport const selectTransaction = transaction => ({\n  type: 'SELECT_TRANSACTION',\n  payload: transaction\n});\nexport const openModal = () => ({\n  type: 'OPEN_MODAL'\n});\nexport const closeModal = () => ({\n  type: 'CLOSE_MODAL'\n});","map":{"version":3,"sources":["/Users/mickaelzana/Desktop/backstage/cards/demo-front/src/actions/index.js"],"names":["fetchUserTransactions","dispatch","response","fetch","transactions","json","console","log","type","payload","fetchUserCategories","categories","createTransactionCategory","category","method","headers","body","JSON","stringify","editTransactionCategory","getState","select","selectTransaction","transaction","openModal","closeModal"],"mappings":"AAAA,OAAO,MAAMA,qBAAqB,GAAG,MAAM,MAAOC,QAAP,IAAoB;AAC3D,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,yEAAD,CAA5B;AACA,QAAMC,YAAY,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAA3B;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCH,YAAnC;AACAH,EAAAA,QAAQ,CAAC;AAACO,IAAAA,IAAI,EAAC,oBAAN;AAA4BC,IAAAA,OAAO,EAAEL;AAArC,GAAD,CAAR;AACH,CALM;AAOP,OAAO,MAAMM,mBAAmB,GAAG,MAAM,MAAOT,QAAP,IAAoB;AACzD,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,uEAAD,CAA5B;AACA,QAAMQ,UAAU,GAAG,MAAMT,QAAQ,CAACG,IAAT,EAAzB;AACAJ,EAAAA,QAAQ,CAAC;AAACO,IAAAA,IAAI,EAAC,kBAAN;AAA0BC,IAAAA,OAAO,EAAEE;AAAnC,GAAD,CAAR;AACH,CAJM;AAMP,OAAO,MAAMC,yBAAyB,GAAIC,QAAD,IAAc,MAAOZ,QAAP,IAAoB;AACvEK,EAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACAN,EAAAA,QAAQ,CAAC;AAACO,IAAAA,IAAI,EAAC;AAAN,GAAD,CAAR;AACA,QAAMN,QAAQ,GAAG,MAAMC,KAAK,CAAE,uEAAF,EAA0E;AAClFW,IAAAA,MAAM,EAAE,MAD0E;AAElFC,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB;AAFX,KAFyE;AAMlFC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAE,kBAAYL;AAAd,KAAf;AAN4E,GAA1E,CAA5B;AAQAZ,EAAAA,QAAQ,CAACS,mBAAmB,EAApB,CAAR;AACAT,EAAAA,QAAQ,CAAC;AAACO,IAAAA,IAAI,EAAC;AAAN,GAAD,CAAR;AACH,CAbM;AAeP,OAAO,MAAMW,uBAAuB,GAAIN,QAAD,IAAc,OAAOZ,QAAP,EAAiBmB,QAAjB,KAA8B;AAC/E,QAAM;AAACC,IAAAA;AAAD,MAAWD,QAAQ,EAAzB;AACAd,EAAAA,OAAO,CAACC,GAAR;AACA,QAAML,QAAQ,GAAG,MAAMC,KAAK,CAAE,2EAA0EiB,QAAQ,EAAG,EAAvF,EAA0F;AAClHN,IAAAA,MAAM,EAAE,KAD0G;AAElHC,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB;AAFT,KAFyG;AAMlHC,IAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAAC,kBAAWL;AAAZ,KAAf;AAN6G,GAA1F,CAA5B;AASEZ,EAAAA,QAAQ,CAACD,qBAAqB,EAAtB,CAAR;AAEL,CAdM;AAiBP,OAAO,MAAMsB,iBAAiB,GAAIC,WAAD,KAAkB;AAACf,EAAAA,IAAI,EAAC,oBAAN;AAA4BC,EAAAA,OAAO,EAAEc;AAArC,CAAlB,CAA1B;AACP,OAAO,MAAMC,SAAS,GAAG,OAAQ;AAAChB,EAAAA,IAAI,EAAE;AAAP,CAAR,CAAlB;AAEP,OAAO,MAAMiB,UAAU,GAAG,OAAQ;AAACjB,EAAAA,IAAI,EAAE;AAAP,CAAR,CAAnB","sourcesContent":["export const fetchUserTransactions = () => async (dispatch) => {\n    const response = await fetch('https://2eh1oighrk.execute-api.eu-west-1.amazonaws.com/dev/transactions')\n    const transactions = await response.json()\n    console.log('FETCH TRANSACTIONS ', transactions)\n    dispatch({type:'FETCH_TRANSACTIONS', payload: transactions})\n}\n\nexport const fetchUserCategories = () => async (dispatch) => {\n    const response = await fetch('https://2eh1oighrk.execute-api.eu-west-1.amazonaws.com/dev/categories')\n    const categories = await response.json()\n    dispatch({type:'FETCH_CATEGORIES', payload: categories})\n}\n\nexport const createTransactionCategory = (category) => async (dispatch) => {\n    console.log('CREATE TRANSACTION ACTION')\n    dispatch({type:'CREATE_CATEGORY_LOADING_START'})\n    const response = await fetch(`https://2eh1oighrk.execute-api.eu-west-1.amazonaws.com/dev/categories`, {\n                        method: 'POST',\n                        headers: {\n                            'Accept': 'application/json',\n                            'Content-Type': 'application/json'\n                        },\n                        body: JSON.stringify({ \"category\": category })\n                    })\n    dispatch(fetchUserCategories())\n    dispatch({type:'CREATE_CATEGORY_LOADING_END'})\n}\n\nexport const editTransactionCategory = (category) => async (dispatch, getState) => {\n    const {select} = getState()\n    console.log()\n    const response = await fetch(`https://2eh1oighrk.execute-api.eu-west-1.amazonaws.com/dev/transactions/${getState()}`, {\n        method: 'PUT',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body:JSON.stringify({\"category\":category})\n      })\n\n      dispatch(fetchUserTransactions())\n\n}\n\n\nexport const selectTransaction = (transaction) => ({type:'SELECT_TRANSACTION', payload: transaction})\nexport const openModal = () =>  ({type: 'OPEN_MODAL'})\n\nexport const closeModal = () =>  ({type: 'CLOSE_MODAL'})"]},"metadata":{},"sourceType":"module"}