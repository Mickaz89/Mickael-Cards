(this["webpackJsonpcards-client"]=this["webpackJsonpcards-client"]||[]).push([[0],{201:function(t,e,n){},230:function(t,e,n){},231:function(t,e,n){},232:function(t,e,n){},300:function(t,e,n){},301:function(t,e,n){},354:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(28),o=n.n(r),s=n(109),i=n(202),l=n(23),u={transactions:[],total:{},filter:""},d={categories:[],loading:!1,value:""},j={open:!1},f=Object(s.b)({transactions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_TRANSACTIONS":return Object(l.a)(Object(l.a)({},t),{},{transactions:e.payload});case"SET_FILTER":return Object(l.a)(Object(l.a)({},t),{},{filter:e.payload});case"SET_TOTAL":return Object(l.a)(Object(l.a)({},t),{},{total:e.payload});default:return t}},categories:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_CATEGORIES":return Object(l.a)(Object(l.a)({},t),{},{categories:e.payload});case"CREATE_CATEGORY_LOADING_START":return Object(l.a)(Object(l.a)({},t),{},{loading:!0});case"CREATE_CATEGORY_LOADING_END":return Object(l.a)(Object(l.a)({},t),{},{loading:!1});case"SET_SELECT_VALUE":return Object(l.a)(Object(l.a)({},t),{},{value:e.payload});default:return t}},modal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"OPEN_MODAL":return Object(l.a)(Object(l.a)({},t),{},{open:!0});case"CLOSE_MODAL":return Object(l.a)(Object(l.a)({},t),{},{open:!1});default:return t}},select:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SELECT_TRANSACTION":return e.payload;default:return t}}}),b=Object(s.c)(f,Object(s.a)(i.a)),O=n(35),h=(n(230),n.p,n(231),n(58)),g=n.n(h),p=n(86),x=function(){return function(){var t=Object(p.a)(g.a.mark((function t(e){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tofhpead19.execute-api.eu-west-1.amazonaws.com/dev/transactions");case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,console.log("FETCH TRANSACTIONS ",a),e({type:"FETCH_TRANSACTIONS",payload:a});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(){return function(){var t=Object(p.a)(g.a.mark((function t(e){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tofhpead19.execute-api.eu-west-1.amazonaws.com/dev/categories");case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,e({type:"FETCH_CATEGORIES",payload:a});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(t){return function(){var e=Object(p.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("CREATE TRANSACTION ACTION"),n({type:"CREATE_CATEGORY_LOADING_START"}),e.next=4,fetch("https://tofhpead19.execute-api.eu-west-1.amazonaws.com/dev/categories",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({category:t})});case 4:e.sent,n(v()),n({type:"CREATE_CATEGORY_LOADING_END"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(t){return function(){var e=Object(p.a)(g.a.mark((function e(n,a){var c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a(),r=c.select,console.log("select ",r),e.next=4,fetch("https://tofhpead19.execute-api.eu-west-1.amazonaws.com/dev/transactions/".concat(r.transaction_details.uuid),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({category:t})});case 4:e.sent,n(x()),n(_()),n(m(""));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},m=function(t){return console.log("select select"),{type:"SET_SELECT_VALUE",payload:t}},C=function(t){return{type:"SET_TOTAL",payload:t}},E=function(t){return{type:"SELECT_TRANSACTION",payload:t}},_=function(){return{type:"CLOSE_MODAL"}},S=(n(232),n(6)),A=n(47),N=n(115),w=n(367),L=n(93),I=n(204),M=n.n(I),k=(n(116),n(363),n(366),n(364),n(40),n(368),n(219),n(358),N.a.Option,Object(O.b)((function(t){return{categories:t.categories.categories,loading:t.categories.loading,select:t.select,value:t.categories.value}}),(function(t){return{fetchUserCategories:function(){return t(v())},createTransactionCategory:function(e){return t(y(e))},editTransactionCategory:function(e){return t(T(e))},setSelectValue:function(e){return t(m(e))}}}))((function(t){var e=t.loading,n=t.fetchUserCategories,c=t.createTransactionCategory,r=t.editTransactionCategory,o=t.categories,s=t.setSelectValue,i=t.value,l=t.select;Object(a.useEffect)((function(){n()}),[i]);var u=o.map((function(t){return{label:t.name,value:t.name}}));return o.length?Object(S.jsx)("div",{children:Object(S.jsx)(L.a,{onChange:function(t){console.log("value value ",t),s(t),r(t.value)},value:l&&l.transaction_details.category?function(t,e){for(var n=0;n<e.length;n++)if(e[n].value.trim()===t.trim())return e[n]}(l&&l.transaction_details.category,u.length>0&&u):i,options:u,className:"select",onCreateOption:function(t){console.log("create ",t),""!=t&&(console.log("create"),c(t))},isLoading:e,isDisabled:e})}):Object(S.jsx)("h2",{children:"Loading"})}))),R=n(362),D=n(30),U=Object(O.b)((function(t){return{categories:t.categories.categories,loading:t.categories.loading,select:t.select}}),(function(t){return{fetchUserCategories:function(){return t(v())},createTransactionCategory:function(e){return t(y(e))},editTransactionCategory:function(e){return t(T(e))},setFilter:function(e){return t(function(t){return{type:"SET_FILTER",payload:t}}(e))}}}))((function(t){t.loading;var e=t.fetchUserCategories,n=(t.createTransactionCategory,t.editTransactionCategory,t.categories),c=t.setFilter;t.select;Object(a.useEffect)((function(){e()}),[]);var r,o=n.map((function(t){return{label:t.name,value:t.name}}));r=[{label:"All",value:"all"}].concat(Object(D.a)(o));return n.length?Object(S.jsx)("div",{children:Object(S.jsx)(L.a,{defaultValue:r[0],onChange:function(t){console.log("value value ",t),c(t.value)},options:r,className:"select"})}):Object(S.jsx)("h2",{children:"Loading"})})),F=(n(300),Object(O.b)((function(t){return{total:t.transactions.total}}),(function(t){return{}}))((function(t){t.children;var e=t.title,n=t.total;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(R.a,{title:e,extra:Object(S.jsx)("div",{className:"row",children:Object(S.jsx)(U,{})}),style:{width:500},children:Object(S.jsxs)("h1",{children:[n,"  \u20aa"]})})})})),n(365)),z=(N.a.Option,Object(O.b)((function(t){return{modal:t.modal.open,select:t.select}}),(function(t){return{closeModal:function(){return t(_())}}}))((function(t){var e=t.select,n=t.modal,a=t.closeModal;return Object(S.jsx)(F.a,{title:"Transaction details",visible:n,onOk:a,onCancel:a,children:e.transaction_details?Object(S.jsxs)("div",{className:"modal",children:[Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{children:"Transaction ID: "}),Object(S.jsx)("div",{children:e.transaction_details.uuid})]}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{children:"Vendor: "}),Object(S.jsx)("div",{children:e.transaction_details.vendor})]}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{children:"Category:"}),Object(S.jsx)(k,{})]}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{children:"Total:"}),Object(S.jsx)("div",{children:e.transaction_details.total})]})]}):Object(S.jsx)("div",{})})}))),G=n(208),V=n.n(G),W=(n(301),N.a.Option,Object(O.b)((function(t){return{transactions:t.transactions.transactions,filter:t.transactions.filter,total:t.transactions.total}}),(function(t){return{fetchUserTransactions:function(){return t(x())},selectTransaction:function(e){return t(E(e))},openModal:function(){return t({type:"OPEN_MODAL"})},setTotal:function(e){return t(C(e))},setSelectValue:function(e){return t(m(e))}}}))((function(t){var e=t.fetchUserTransactions,n=t.transactions,c=(t.selectTransaction,t.openModal,t.filter),r=(t.setTotal,t.setSelectValue,t.data,Object(a.useState)(null)),o=Object(A.a)(r,2),s=o[0],i=(o[1],Object(a.useState)(s&&s.transaction_details.category)),l=Object(A.a)(i,2);l[0],l[1];Object(a.useEffect)((function(){e()}),[]),console.log("filter ",c);var u=V.a.slice(n,0,7);console.log("slice ",u);return n.length?Object(S.jsx)("div",{className:"demo-infinite-container",children:Object(S.jsxs)(M.a,{initialLoad:!1,pageStart:0,useWindow:!1,loadMore:function(){return console.log("load more")},children:[Object(S.jsx)(z,{}),Object(S.jsx)(w.b,{dataSource:u.slice(2),renderItem:function(t){return Object(S.jsx)("div",{"data-tag":"test",children:Object(S.jsxs)(w.b.Item,{data:t,children:[Object(S.jsx)(w.b.Item.Meta,{title:Object(S.jsx)("a",{children:Object(S.jsx)("h2",{style:{fontWeight:"bold"},children:t.transaction_details.vendor})})}),Object(S.jsxs)("h2",{style:{fontWeight:"bold"},children:[t.transaction_details.total," \u20aa"]})]},t.transaction_details.id)})}})]})}):Object(S.jsx)("div",{children:"Loading"})}))),H=n(174),P=n.n(H),Y=n(361),J=Object(O.b)((function(t){return{transactions:t.transactions.transactions,categories:t.categories.categories,filter:t.transactions.filter,total:t.transactions.total}}),(function(t){return{fetchUserTransactions:function(){return t(x())},fetchUserCategories:function(){return t(v())},selectTransaction:function(e){return t(E(e))},setTotal:function(e){return t(C(e))},openModal:function(){return t({type:"OPEN_MODAL"})}}}))((function(t){var e=t.fetchUserTransactions,n=t.transactions,c=t.openModal,r=t.selectTransaction,o=t.fetchUserCategories,s=t.categories,i=t.setTotal;t.total;Object(a.useEffect)((function(){e(),o(),i(function(){var t={};return d.forEach((function(e){var a=0;n.filter((function(t){return console.log("transactions ",n),console.log("transaction tr tr ",t.transaction_details.category),t.transaction_details.category.includes(e.trim())})).forEach((function(t){a+=t.transaction_details.total})),t[e]=a,console.log("total ",a)})),t}())}),[]);var l=s.map((function(t){return{text:t.name,value:t.name}})),u=n.map((function(t){return t.transaction_details.category})),d=Object(D.a)(new Set(u)),j=[{key:"0",title:"Vendor",dataIndex:["transaction_details","vendor"],render:function(t){return Object(S.jsx)("h2",{children:t})}},{key:"1",title:"Category",dataIndex:["transaction_details","category"],filters:l,onFilter:function(t,e){return 0===e.transaction_details.category.trim().indexOf(t.trim())},render:function(t){return Object(S.jsx)("h2",{children:t})}},{key:"2",title:"Total",dataIndex:["transaction_details","total"],render:function(t){return Object(S.jsxs)("h2",{children:[t," \u20aa"]})}},{key:"3",title:"Date",dataIndex:["transaction_details","date"],sorter:function(t,e){return new Date(t.transaction_details.date)-new Date(e.transaction_details.date)},render:function(t){return Object(S.jsx)("h2",{children:P()(t).calendar()})}}];return Object(S.jsxs)("div",{children:[Object(S.jsx)(z,{}),Object(S.jsx)(Y.a,{onRow:function(t,e){return{onClick:function(e){return function(t){console.log("SELECT"),r(t),c()}(t)},onDoubleClick:function(t){},onContextMenu:function(t){},onMouseEnter:function(t){},onMouseLeave:function(t){}}},columns:j,dataSource:n,pagination:!1,scroll:{y:900}})]})})),B=(n(20),n(22),n(27),n(26),n(34),n(359),n(114)),K=n(32),Z=n(360),q=n(90),Q=n(369),X=n(370),$=n(147),tt=(n(201),Object(O.b)((function(t){return{transactions:t.transactions.transactions,categories:t.categories.categories,filter:t.transactions.filter,total:t.transactions.total}}),(function(t){return{fetchUserTransactions:function(){return t(x())},fetchUserCategories:function(){return t(v())},selectTransaction:function(e){return t(E(e))},openModal:function(){return t({type:"OPEN_MODAL"})}}}))((function(t){var e=t.fetchUserTransactions,n=t.transactions,c=t.total,r=n.map((function(t){return t.transaction_details.category})),o=Object(D.a)(new Set(r));Object(a.useEffect)((function(){e()}),[]);var s=o.map((function(t){return t}));console.log("total ",c);var i=c&&Object.keys(c).map((function(t){return c[t]}));console.log("totals ",i);var l={labels:s,datasets:[{label:"My First Dataset",data:i,backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(103, 58, 183)","rgb(118, 255, 3)"],hoverOffset:4}]};n.map((function(t){return{date:t.transaction_details.date}}));return Object(S.jsxs)("div",{className:"dashboard-root",children:[Object(S.jsxs)("div",{className:"left",children:[Object(S.jsx)("div",{className:"user",children:Object(S.jsx)("h1",{children:"Hey Mickael"})}),Object(S.jsx)("div",{children:Object(S.jsx)("p",{children:"Welcome to your wallet dashboard"})}),Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"Your Wallet"}),Object(S.jsx)("div",{className:"card",children:Object(S.jsx)("img",{alt:"card",src:"/Mickael-Cards/card.png"})})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"Recent transactions"}),Object(S.jsx)(W,{})]})]}),Object(S.jsxs)("div",{className:"right",children:[Object(S.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold"},children:"Expenses"}),Object(S.jsx)("div",{className:"chart",children:Object(S.jsx)($.a,{options:{plugins:{legend:{display:!0,position:"right",fullSize:!0,maxWidth:250,labels:{padding:10,font:{size:22}}}}},data:l})})]})]})}))),et=Z.a.Header,nt=(Z.a.Content,Z.a.Footer),at=Z.a.Sider,ct=(q.a.SubMenu,function(t){t.children,Object(K.f)();var e=Object(a.useState)(!1),n=Object(A.a)(e,2),c=n[0],r=n[1],o=Object(a.useState)(["transactions"]),s=Object(A.a)(o,2),i=s[0],l=s[1];return Object(S.jsx)(B.a,{children:Object(S.jsxs)(Z.a,{style:{minHeight:"100vh"},children:[Object(S.jsxs)(at,{collapsible:!0,collapsed:c,onCollapse:function(){r(!c)},children:[Object(S.jsx)("div",{className:"logo"}),Object(S.jsxs)(q.a,{onClick:function(t){l((function(e){return["".concat(t.key)]}))},theme:"dark",defaultSelectedKeys:["transactions"],mode:"inline",selectedKeys:i,children:[Object(S.jsx)(q.a.Item,{icon:Object(S.jsx)(Q.a,{}),children:Object(S.jsx)(B.b,{to:"/",children:Object(S.jsx)("div",{style:{fontSize:"22px"},children:"Transactions"})})},"transactions"),Object(S.jsx)(q.a.Item,{icon:Object(S.jsx)(X.a,{}),children:Object(S.jsx)(B.b,{to:"/dashboard",children:Object(S.jsx)("div",{style:{fontSize:"22px"},children:"Dashboard"})})},"dashboard")]})]}),Object(S.jsxs)(Z.a,{className:"site-layout",children:[Object(S.jsx)(et,{className:"site-layout-background",style:{padding:0}}),Object(S.jsxs)(K.c,{children:[Object(S.jsx)(K.a,{path:"/transactions",children:Object(S.jsx)(J,{})}),Object(S.jsx)(K.a,{path:"/dashboard",children:Object(S.jsx)(tt,{})})]}),Object(S.jsx)(nt,{style:{textAlign:"center"},children:"Banking App \xa92021 Created by Mickael Zana "})]})]})})});var rt=Object(O.b)((function(t){return{transactions:t.transactions}}),(function(t){return{fetchUserTransactions:function(){return t(x())}}}))((function(t){var e=t.fetchUserTransactions;return t.transactions,Object(a.useEffect)((function(){e()}),[]),Object(S.jsx)("div",{className:"root",children:Object(S.jsx)(ct,{})})})),ot=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,371)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),c(t),r(t),o(t)}))};n(353);o.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(O.a,{store:b,children:Object(S.jsx)(rt,{})})}),document.getElementById("root")),ot()}},[[354,1,2]]]);
//# sourceMappingURL=main.2940ac5d.chunk.js.map